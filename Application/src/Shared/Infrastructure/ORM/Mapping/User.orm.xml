<doctrine-mapping>
    <entity name="App\Shared\Infrastructure\Entity\User" table="user" inheritance-type="SINGLE_TABLE">
        <lifecycle-callbacks>
            <lifecycle-callback type="prePersist" method="updateTimestamps" />
            <lifecycle-callback type="preUpdate" method="updateTimestamps" />
        </lifecycle-callbacks>
        <discriminator-column name="discr" type="string" />
        <discriminator-map>
            <discriminator-mapping value="user" class="App\Shared\Infrastructure\Entity\User" />
            <discriminator-mapping value="player" class="App\Shared\Infrastructure\Entity\Player" />
            <discriminator-mapping value="admin" class="App\Shared\Infrastructure\Entity\Admin" />
        </discriminator-map>
        <id name="id" type="integer">
            <generator strategy="AUTO" />
        </id>
        <field name="firstName" type="string" length="100" />
        <field name="lastName" type="string" length="100" />
        <one-to-many field="owningPools" target-entity="App\Shared\Infrastructure\Entity\TournamentPool" mapped-by="owner" />
        <many-to-many field="playingPools" target-entity="App\Shared\Infrastructure\Entity\TournamentPool" mapped-by="players" />
        <field name="createdAt" type="datetime" />
        <field name="updatedAt" type="datetime" />
    </entity>
</doctrine-mapping>